
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>mocafe.fenut.fenut &#8212; mocafe 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-mocafe.fenut.fenut">
<span id="mocafe-fenut-fenut"></span><h1><code class="docutils literal notranslate"><span class="pre">mocafe.fenut.fenut</span></code><a class="headerlink" href="#module-mocafe.fenut.fenut" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">MeshWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_mesh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dolfin.cpp.mesh.Mesh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for fenics.Mesh with some utility method. More precisely, it provides easy access to bot the local
mesh for the current MPI process and the global mesh, shared for all MPI processes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.get_dim">
<span class="sig-name descname"><span class="pre">get_dim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.get_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>get the number of dimensions of the mesh
:return: 2 if the mesh is 2 dimensonal.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.get_global_mesh">
<span class="sig-name descname"><span class="pre">get_global_mesh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.get_global_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>get the global mesh shared among all the MPI processes
:return: the global mesh shared among all the MPI processes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.get_local_mesh">
<span class="sig-name descname"><span class="pre">get_local_mesh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.get_local_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>get the mesh visible to the local MPI process
:return: the local Mesh object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.is_inside_global_mesh">
<span class="sig-name descname"><span class="pre">is_inside_global_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.is_inside_global_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the given point is inside the global mesh
:param point: the point to check
:return: True if the point is inside the local mesh. False otherwise</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.is_inside_local_mesh">
<span class="sig-name descname"><span class="pre">is_inside_local_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.is_inside_local_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the given point is inside the local mesh
:param point: the point to check
:return: True if the point is inside the local mesh. False otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.n_global_mesh_vertices">
<span class="sig-name descname"><span class="pre">n_global_mesh_vertices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.n_global_mesh_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>get the number of points in the global mesh
:return: the number of points in the global mesh</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.MeshWrapper.n_local_mesh_vertices">
<span class="sig-name descname"><span class="pre">n_local_mesh_vertices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.MeshWrapper.n_local_mesh_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>get the number of points in the local mesh
:return: the number of points in the local mesh</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.build_local_box">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">build_local_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">border_width</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.build_local_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a local box for a given mesh.</p>
<p>A local box is useful for parallel computation and might be useful for different purposes. In general, defines
a square space, bigger than the local mesh, which may contain elements of interest for the local mesh
:param local_mesh: the local mesh for the current MPI process
:param border_width: the width of the border of the local box
:return: the local box</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.divide_in_chunks">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">divide_in_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">given_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_chnks</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.divide_in_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Divides the elements of a given list in <code class="docutils literal notranslate"><span class="pre">n_chnks</span></code> list with almost the same number of elements. The result is
a list of lists.</p>
<p>More precisely, the total number of element of the given list is divided by <code class="docutils literal notranslate"><span class="pre">n_chnks</span></code>. If the number is not
divisible by <code class="docutils literal notranslate"><span class="pre">n_chnks</span></code>, the remainder will be distributed over the lists.</p>
<p>Below are provided some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">divide_in_chunks</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[[1, 2, 3], [4, 5], [6, 7]]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">divide_in_chunks</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[[1, 2, 3, 4], [5, 6, 7, 8]]</span>
</pre></div>
</div>
<p>Notice that the order is conserved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>given_list</strong> – the list to be divided in chunks</p></li>
<li><p><strong>n_chnks</strong> – the number of desidered chunks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of lists, where each element is one of the chunks.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.flatten_list_of_lists">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">flatten_list_of_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_lists</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.flatten_list_of_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>Flattens a list of lists in a flat list
:param list_of_lists: the given list of lists
:return: the flat list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.get_mixed_function_space">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">get_mixed_function_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dolfin.cpp.mesh.Mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'CG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.get_mixed_function_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a mixed function space for the given mesh with n_variables elements of the same given element_type.
:param mesh: the mesh to build the function space on.
:param n_variables: the number of elements composing the mixed elements space, usually equal to the number of
variables you need to simulate.
:param element_type: the type of element you want to use, identified with the fenics string. Default is Continuos
Glaerkin, ‘CG’.
:param degree: the degree of the elements you want to use. Default is 1.
:return: the function space for the given mesh.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.is_in_local_box">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">is_in_local_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.is_in_local_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a local box, checks if the given point is inside that local box.
:param local_box: the local box
:param position: the position to check
:return: True if the position is inside the local box. False otherwise</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.load_parameters">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">load_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parameters.json'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.load_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED: use Parameters class instead
:param parameters_file:
:return:</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.setup_pvd_files">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">setup_pvd_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_folder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.setup_pvd_files" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of <code class="docutils literal notranslate"><span class="pre">.pvd</span></code> files with the given list of names. <code class="docutils literal notranslate"><span class="pre">.pvd</span></code> files can be used to store FEniCS Functions,
even though XDMF files are preferred.</p>
<p>This method is useful when a relative long list of files is needed for a simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_names</strong> – the list of strings containing the files name.</p></li>
<li><p><strong>data_folder</strong> – the folder where to place the files</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the FEniCS objects representing the files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mocafe.fenut.fenut.setup_xdmf_files">
<span class="sig-prename descclassname"><span class="pre">mocafe.fenut.fenut.</span></span><span class="sig-name descname"><span class="pre">setup_xdmf_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_names:</span> <span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm=&lt;mpi4py.MPI.Intracomm</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mocafe.fenut.fenut.setup_xdmf_files" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code> files with the given list of names. <code class="docutils literal notranslate"><span class="pre">.xdmf</span></code> files are the preferred way to store
FEniCS functions for elaboration and visualization.</p>
<p>This method is useful when a relative long list of files is needed for a simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_names</strong> – the list of strings containing the files name.</p></li>
<li><p><strong>data_folder</strong> – the folder where to place the files</p></li>
<li><p><strong>comm</strong> – MPI communicator. Default is COMM_WORLD and this is usually the best choice for normal simulations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the FEniCS objects representing the files.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">mocafe</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../demo_doc/index.html">Demo gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_documentation.html">Code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bib.html">Bibliography</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Franco Pradelli.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/sub_code_doc/fenut_sub_code_doc/fenut.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>